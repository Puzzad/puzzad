import{S as D,i as E,s as H,h as v,j as m,x as P,r as l,a as T,w as o,a3 as w,C as k,a4 as M,n as q,d as j,_ as W,y as z,f as A,a2 as B,a6 as F}from"./index.2ee0aec2.js";function I(a){let e,s=a[2].text+"",p,t;return{c(){e=v("div"),p=P(s),l(e,"role",t=a[2].error?"alert":null),l(e,"class","svelte-oylov0")},m(u,n){T(u,e,n),o(e,p)},p(u,n){n&4&&s!==(s=u[2].text+"")&&z(p,s),n&4&&t!==(t=u[2].error?"alert":null)&&l(e,"role",t)},d(u){u&&j(e)}}}function G(a){let e,s,p,t,u,n,b,r,y,d,C,h,_,g,L,S,i=!!a[2].text&&I(a);return{c(){e=v("form"),s=v("label"),s.textContent="Email:",p=m(),t=v("input"),u=m(),n=v("label"),n.textContent="Password:",b=m(),r=v("input"),y=m(),d=v("button"),C=P("Sign In"),h=m(),i&&i.c(),_=m(),g=v("div"),g.innerHTML='Don&#39;t have an account? <a href="#/signup">Sign up!</a>',l(s,"for","email"),l(s,"class","svelte-oylov0"),l(t,"id","email"),l(t,"type","email"),l(t,"name","email"),t.required=!0,l(t,"class","svelte-oylov0"),l(n,"for","password"),l(n,"class","svelte-oylov0"),l(r,"id","password"),l(r,"type","password"),l(r,"name","password"),r.required=!0,l(r,"class","svelte-oylov0"),l(d,"type","submit"),d.disabled=a[3],l(d,"class","svelte-oylov0"),l(g,"class","svelte-oylov0"),l(e,"class","svelte-oylov0")},m(f,c){T(f,e,c),o(e,s),o(e,p),o(e,t),w(t,a[0]),o(e,u),o(e,n),o(e,b),o(e,r),w(r,a[1]),o(e,y),o(e,d),o(d,C),o(e,h),i&&i.m(e,null),o(e,_),o(e,g),L||(S=[k(t,"input",a[6]),k(r,"input",a[7]),k(d,"click",a[8]),k(e,"submit",M(a[5]))],L=!0)},p(f,[c]){c&1&&t.value!==f[0]&&w(t,f[0]),c&2&&r.value!==f[1]&&w(r,f[1]),c&8&&(d.disabled=f[3]),f[2].text?i?i.p(f,c):(i=I(f),i.c(),i.m(e,_)):i&&(i.d(1),i=null)},i:q,o:q,d(f){f&&j(e),i&&i.d(),L=!1,W(S)}}}function J(a,e,s){let p="",t="",u={error:null,text:null},n=!1;const b=async()=>{s(3,n=!0);const{user:h,error:_}=await A.auth.signInWithPassword({email:p,password:t});s(3,n=!1),_?s(2,u={error:!0,text:_.message}):_||await B("#/")};function r(h){F.call(this,a,h)}function y(){p=this.value,s(0,p)}function d(){t=this.value,s(1,t)}return[p,t,u,n,b,r,y,d,()=>b()]}class N extends D{constructor(e){super(),E(this,e,J,G,H,{})}}export{N as default};
