import{S as V,i as X,s as Q,e as p,a as P,U as Y,b as D,d as Z,f as d,l as z,p as tt,n as w,g as et}from"./index.aa591650.js";const st=Object.prototype.toString;function nt(s,t){return st.call(s)===`[object ${t}]`}function x(s){return nt(s,"Object")}function H(s){return Boolean(s&&s.then&&typeof s.then=="function")}function y(s){return s&&s.Math==Math?s:void 0}const u=typeof globalThis=="object"&&y(globalThis)||typeof window=="object"&&y(window)||typeof self=="object"&&y(self)||typeof global=="object"&&y(global)||function(){return this}()||{};function it(){return u}function B(s,t,e){const n=e||u,i=n.__SENTRY__=n.__SENTRY__||{};return i[s]||(i[s]=t())}const rt="Sentry Logger ",O=["debug","info","warn","error","log","assert","trace"];function q(s){if(!("console"in u))return s();const t=u.console,e={};O.forEach(n=>{const i=t[n]&&t[n].__sentry_original__;n in t&&i&&(e[n]=t[n],t[n]=i)});try{return s()}finally{Object.keys(e).forEach(n=>{t[n]=e[n]})}}function G(){let s=!1;const t={enable:()=>{s=!0},disable:()=>{s=!1}};return typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__?O.forEach(e=>{t[e]=(...n)=>{s&&q(()=>{u.console[e](`${rt}[${e}]:`,...n)})}}):O.forEach(e=>{t[e]=()=>{}}),t}let E;typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__?E=B("logger",G):E=G();function ot(s){return k(s,new Map)}function k(s,t){if(x(s)){const e=t.get(s);if(e!==void 0)return e;const n={};t.set(s,n);for(const i of Object.keys(s))typeof s[i]<"u"&&(n[i]=k(s[i],t));return n}if(Array.isArray(s)){const e=t.get(s);if(e!==void 0)return e;const n=[];return t.set(s,n),s.forEach(i=>{n.push(k(i,t))}),n}return s}function S(){const s=u,t=s.crypto||s.msCrypto;if(t&&t.randomUUID)return t.randomUUID().replace(/-/g,"");const e=t&&t.getRandomValues?()=>t.getRandomValues(new Uint8Array(1))[0]:()=>Math.random()*16;return([1e7]+1e3+4e3+8e3+1e11).replace(/[018]/g,n=>(n^(e()&15)>>n/4).toString(16))}function at(s){return Array.isArray(s)?s:[s]}function ct(){return typeof __SENTRY_BROWSER_BUNDLE__<"u"&&!!__SENTRY_BROWSER_BUNDLE__}function $(){return!ct()&&Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]"}function _t(s,t){return s.require(t)}var f;(function(s){s[s.PENDING=0]="PENDING";const e=1;s[s.RESOLVED=e]="RESOLVED";const n=2;s[s.REJECTED=n]="REJECTED"})(f||(f={}));class _{__init(){this._state=f.PENDING}__init2(){this._handlers=[]}constructor(t){_.prototype.__init.call(this),_.prototype.__init2.call(this),_.prototype.__init3.call(this),_.prototype.__init4.call(this),_.prototype.__init5.call(this),_.prototype.__init6.call(this);try{t(this._resolve,this._reject)}catch(e){this._reject(e)}}then(t,e){return new _((n,i)=>{this._handlers.push([!1,r=>{if(!t)n(r);else try{n(t(r))}catch(o){i(o)}},r=>{if(!e)i(r);else try{n(e(r))}catch(o){i(o)}}]),this._executeHandlers()})}catch(t){return this.then(e=>e,t)}finally(t){return new _((e,n)=>{let i,r;return this.then(o=>{r=!1,i=o,t&&t()},o=>{r=!0,i=o,t&&t()}).then(()=>{if(r){n(i);return}e(i)})})}__init3(){this._resolve=t=>{this._setResult(f.RESOLVED,t)}}__init4(){this._reject=t=>{this._setResult(f.REJECTED,t)}}__init5(){this._setResult=(t,e)=>{if(this._state===f.PENDING){if(H(e)){e.then(this._resolve,this._reject);return}this._state=t,this._value=e,this._executeHandlers()}}}__init6(){this._executeHandlers=()=>{if(this._state===f.PENDING)return;const t=this._handlers.slice();this._handlers=[],t.forEach(e=>{e[0]||(this._state===f.RESOLVED&&e[1](this._value),this._state===f.REJECTED&&e[2](this._value),e[0]=!0)})}}}const F=it(),L={nowSeconds:()=>Date.now()/1e3};function ut(){const{performance:s}=F;if(!s||!s.now)return;const t=Date.now()-s.now();return{now:()=>s.now(),timeOrigin:t}}function ht(){try{return _t(module,"perf_hooks").performance}catch{return}}const v=$()?ht():ut(),M=v===void 0?L:{nowSeconds:()=>(v.timeOrigin+v.now())/1e3},J=L.nowSeconds.bind(L),W=M.nowSeconds.bind(M);(()=>{const{performance:s}=F;if(!s||!s.now)return;const t=3600*1e3,e=s.now(),n=Date.now(),i=s.timeOrigin?Math.abs(s.timeOrigin+e-n):t,r=i<t,o=s.timing&&s.timing.navigationStart,a=typeof o=="number"?Math.abs(o+e-n):t,h=a<t;return r||h?i<=a?s.timeOrigin:o:n})();function ft(s){const t=W(),e={sid:S(),init:!0,timestamp:t,started:t,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>lt(e)};return s&&b(e,s),e}function b(s,t={}){if(t.user&&(!s.ipAddress&&t.user.ip_address&&(s.ipAddress=t.user.ip_address),!s.did&&!t.did&&(s.did=t.user.id||t.user.email||t.user.username)),s.timestamp=t.timestamp||W(),t.ignoreDuration&&(s.ignoreDuration=t.ignoreDuration),t.sid&&(s.sid=t.sid.length===32?t.sid:S()),t.init!==void 0&&(s.init=t.init),!s.did&&t.did&&(s.did=`${t.did}`),typeof t.started=="number"&&(s.started=t.started),s.ignoreDuration)s.duration=void 0;else if(typeof t.duration=="number")s.duration=t.duration;else{const e=s.timestamp-s.started;s.duration=e>=0?e:0}t.release&&(s.release=t.release),t.environment&&(s.environment=t.environment),!s.ipAddress&&t.ipAddress&&(s.ipAddress=t.ipAddress),!s.userAgent&&t.userAgent&&(s.userAgent=t.userAgent),typeof t.errors=="number"&&(s.errors=t.errors),t.status&&(s.status=t.status)}function dt(s,t){let e={};t?e={status:t}:s.status==="ok"&&(e={status:"exited"}),b(s,e)}function lt(s){return ot({sid:`${s.sid}`,init:s.init,started:new Date(s.started*1e3).toISOString(),timestamp:new Date(s.timestamp*1e3).toISOString(),status:s.status,errors:s.errors,did:typeof s.did=="number"||typeof s.did=="string"?`${s.did}`:void 0,duration:s.duration,attrs:{release:s.release,environment:s.environment,ip_address:s.ipAddress,user_agent:s.userAgent}})}const gt=100;class g{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={}}static clone(t){const e=new g;return t&&(e._breadcrumbs=[...t._breadcrumbs],e._tags={...t._tags},e._extra={...t._extra},e._contexts={...t._contexts},e._user=t._user,e._level=t._level,e._span=t._span,e._session=t._session,e._transactionName=t._transactionName,e._fingerprint=t._fingerprint,e._eventProcessors=[...t._eventProcessors],e._requestSession=t._requestSession,e._attachments=[...t._attachments]),e}addScopeListener(t){this._scopeListeners.push(t)}addEventProcessor(t){return this._eventProcessors.push(t),this}setUser(t){return this._user=t||{},this._session&&b(this._session,{user:t}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(t){return this._requestSession=t,this}setTags(t){return this._tags={...this._tags,...t},this._notifyScopeListeners(),this}setTag(t,e){return this._tags={...this._tags,[t]:e},this._notifyScopeListeners(),this}setExtras(t){return this._extra={...this._extra,...t},this._notifyScopeListeners(),this}setExtra(t,e){return this._extra={...this._extra,[t]:e},this._notifyScopeListeners(),this}setFingerprint(t){return this._fingerprint=t,this._notifyScopeListeners(),this}setLevel(t){return this._level=t,this._notifyScopeListeners(),this}setTransactionName(t){return this._transactionName=t,this._notifyScopeListeners(),this}setContext(t,e){return e===null?delete this._contexts[t]:this._contexts={...this._contexts,[t]:e},this._notifyScopeListeners(),this}setSpan(t){return this._span=t,this._notifyScopeListeners(),this}getSpan(){return this._span}getTransaction(){const t=this.getSpan();return t&&t.transaction}setSession(t){return t?this._session=t:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(t){if(!t)return this;if(typeof t=="function"){const e=t(this);return e instanceof g?e:this}return t instanceof g?(this._tags={...this._tags,...t._tags},this._extra={...this._extra,...t._extra},this._contexts={...this._contexts,...t._contexts},t._user&&Object.keys(t._user).length&&(this._user=t._user),t._level&&(this._level=t._level),t._fingerprint&&(this._fingerprint=t._fingerprint),t._requestSession&&(this._requestSession=t._requestSession)):x(t)&&(t=t,this._tags={...this._tags,...t.tags},this._extra={...this._extra,...t.extra},this._contexts={...this._contexts,...t.contexts},t.user&&(this._user=t.user),t.level&&(this._level=t.level),t.fingerprint&&(this._fingerprint=t.fingerprint),t.requestSession&&(this._requestSession=t.requestSession)),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._span=void 0,this._session=void 0,this._notifyScopeListeners(),this._attachments=[],this}addBreadcrumb(t,e){const n=typeof e=="number"?e:gt;if(n<=0)return this;const i={timestamp:J(),...t};return this._breadcrumbs=[...this._breadcrumbs,i].slice(-n),this._notifyScopeListeners(),this}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(t){return this._attachments.push(t),this}getAttachments(){return this._attachments}clearAttachments(){return this._attachments=[],this}applyToEvent(t,e={}){if(this._extra&&Object.keys(this._extra).length&&(t.extra={...this._extra,...t.extra}),this._tags&&Object.keys(this._tags).length&&(t.tags={...this._tags,...t.tags}),this._user&&Object.keys(this._user).length&&(t.user={...this._user,...t.user}),this._contexts&&Object.keys(this._contexts).length&&(t.contexts={...this._contexts,...t.contexts}),this._level&&(t.level=this._level),this._transactionName&&(t.transaction=this._transactionName),this._span){t.contexts={trace:this._span.getTraceContext(),...t.contexts};const n=this._span.transaction&&this._span.transaction.name;n&&(t.tags={transaction:n,...t.tags})}return this._applyFingerprint(t),t.breadcrumbs=[...t.breadcrumbs||[],...this._breadcrumbs],t.breadcrumbs=t.breadcrumbs.length>0?t.breadcrumbs:void 0,t.sdkProcessingMetadata={...t.sdkProcessingMetadata,...this._sdkProcessingMetadata},this._notifyEventProcessors([...pt(),...this._eventProcessors],t,e)}setSDKProcessingMetadata(t){return this._sdkProcessingMetadata={...this._sdkProcessingMetadata,...t},this}_notifyEventProcessors(t,e,n,i=0){return new _((r,o)=>{const c=t[i];if(e===null||typeof c!="function")r(e);else{const a=c({...e},n);(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&c.id&&a===null&&E.log(`Event processor "${c.id}" dropped event`),H(a)?a.then(h=>this._notifyEventProcessors(t,h,n,i+1).then(r)).then(null,o):this._notifyEventProcessors(t,a,n,i+1).then(r).then(null,o)}})}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(t=>{t(this)}),this._notifyingListeners=!1)}_applyFingerprint(t){t.fingerprint=t.fingerprint?at(t.fingerprint):[],this._fingerprint&&(t.fingerprint=t.fingerprint.concat(this._fingerprint)),t.fingerprint&&!t.fingerprint.length&&delete t.fingerprint}}function pt(){return B("globalEventProcessors",()=>[])}const U=4,St=100;class m{__init(){this._stack=[{}]}constructor(t,e=new g,n=U){this._version=n,m.prototype.__init.call(this),this.getStackTop().scope=e,t&&this.bindClient(t)}isOlderThan(t){return this._version<t}bindClient(t){const e=this.getStackTop();e.client=t,t&&t.setupIntegrations&&t.setupIntegrations()}pushScope(){const t=g.clone(this.getScope());return this.getStack().push({client:this.getClient(),scope:t}),t}popScope(){return this.getStack().length<=1?!1:!!this.getStack().pop()}withScope(t){const e=this.pushScope();try{t(e)}finally{this.popScope()}}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getStack(){return this._stack}getStackTop(){return this._stack[this._stack.length-1]}captureException(t,e){const n=this._lastEventId=e&&e.event_id?e.event_id:S(),i=new Error("Sentry syntheticException");return this._withClient((r,o)=>{r.captureException(t,{originalException:t,syntheticException:i,...e,event_id:n},o)}),n}captureMessage(t,e,n){const i=this._lastEventId=n&&n.event_id?n.event_id:S(),r=new Error(t);return this._withClient((o,c)=>{o.captureMessage(t,e,{originalException:t,syntheticException:r,...n,event_id:i},c)}),i}captureEvent(t,e){const n=e&&e.event_id?e.event_id:S();return t.type!=="transaction"&&(this._lastEventId=n),this._withClient((i,r)=>{i.captureEvent(t,{...e,event_id:n},r)}),n}lastEventId(){return this._lastEventId}addBreadcrumb(t,e){const{scope:n,client:i}=this.getStackTop();if(!n||!i)return;const{beforeBreadcrumb:r=null,maxBreadcrumbs:o=St}=i.getOptions&&i.getOptions()||{};if(o<=0)return;const a={timestamp:J(),...t},h=r?q(()=>r(a,e)):a;h!==null&&n.addBreadcrumb(h,o)}setUser(t){const e=this.getScope();e&&e.setUser(t)}setTags(t){const e=this.getScope();e&&e.setTags(t)}setExtras(t){const e=this.getScope();e&&e.setExtras(t)}setTag(t,e){const n=this.getScope();n&&n.setTag(t,e)}setExtra(t,e){const n=this.getScope();n&&n.setExtra(t,e)}setContext(t,e){const n=this.getScope();n&&n.setContext(t,e)}configureScope(t){const{scope:e,client:n}=this.getStackTop();e&&n&&t(e)}run(t){const e=j(this);try{t(this)}finally{j(e)}}getIntegration(t){const e=this.getClient();if(!e)return null;try{return e.getIntegration(t)}catch{return(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&E.warn(`Cannot retrieve integration ${t.id} from the current Hub`),null}}startTransaction(t,e){return this._callExtensionMethod("startTransaction",t,e)}traceHeaders(){return this._callExtensionMethod("traceHeaders")}captureSession(t=!1){if(t)return this.endSession();this._sendSessionUpdate()}endSession(){const t=this.getStackTop(),e=t&&t.scope,n=e&&e.getSession();n&&dt(n),this._sendSessionUpdate(),e&&e.setSession()}startSession(t){const{scope:e,client:n}=this.getStackTop(),{release:i,environment:r}=n&&n.getOptions()||{},{userAgent:o}=u.navigator||{},c=ft({release:i,environment:r,...e&&{user:e.getUser()},...o&&{userAgent:o},...t});if(e){const a=e.getSession&&e.getSession();a&&a.status==="ok"&&b(a,{status:"exited"}),this.endSession(),e.setSession(c)}return c}shouldSendDefaultPii(){const t=this.getClient(),e=t&&t.getOptions();return Boolean(e&&e.sendDefaultPii)}_sendSessionUpdate(){const{scope:t,client:e}=this.getStackTop();if(!t)return;const n=t.getSession();n&&e&&e.captureSession&&e.captureSession(n)}_withClient(t){const{scope:e,client:n}=this.getStackTop();n&&t(n,e)}_callExtensionMethod(t,...e){const i=T().__SENTRY__;if(i&&i.extensions&&typeof i.extensions[t]=="function")return i.extensions[t].apply(this,e);(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&E.warn(`Extension method ${t} couldn't be found, doing nothing.`)}}function T(){return u.__SENTRY__=u.__SENTRY__||{extensions:{},hub:void 0},u}function j(s){const t=T(),e=l(t);return I(t,s),e}function Et(){const s=T();return(!C(s)||l(s).isOlderThan(U))&&I(s,new m),$()?mt(s):l(s)}function mt(s){try{const t=T().__SENTRY__,e=t&&t.extensions&&t.extensions.domain&&t.extensions.domain.active;if(!e)return l(s);if(!C(e)||l(e).isOlderThan(U)){const n=l(s).getStackTop();I(e,new m(n.client,g.clone(n.scope)))}return l(e)}catch{return l(s)}}function C(s){return!!(s&&s.__SENTRY__&&s.__SENTRY__.hub)}function l(s){return B("hub",()=>new m,s)}function I(s,t){if(!s)return!1;const e=s.__SENTRY__=s.__SENTRY__||{};return e.hub=t,!0}function yt(s,t){return Et().captureException(s,{captureContext:t})}function bt(s){let t,e,n,i,r,o,c,a,h,N,A;return{c(){t=p("section"),e=p("h2"),e.textContent="We've taken an unexpected turn...",n=P(),i=p("p"),i.textContent=`Unfortunately, we've encountered an error. We have filed a report with the
        adventurers' guild who hope to have it fixed shortly.`,r=P(),o=p("p"),c=Y("In the mean time, please try "),a=p("a"),a.textContent="reloading the page",h=Y(` and see
        if you can sneak past. Sorry for any inconvenience!`),D(e,"class","svelte-1w0tkn5"),D(a,"href","#"),D(t,"class","svelte-1w0tkn5")},m(R,K){Z(R,t,K),d(t,e),d(t,n),d(t,i),d(t,r),d(t,o),d(o,c),d(o,a),d(o,h),N||(A=z(a,"click",tt(s[0])),N=!0)},p:w,i:w,o:w,d(R){R&&et(t),N=!1,A()}}}function Tt(s,t,e){let{error:n}=t;const i=()=>document.location.reload();return s.$$set=r=>{"error"in r&&e(1,n=r.error)},s.$$.update=()=>{s.$$.dirty&2&&n&&yt(n)},[i,n]}class Rt extends V{constructor(t){super(),X(this,t,Tt,bt,Q,{error:1})}}export{Rt as E};
