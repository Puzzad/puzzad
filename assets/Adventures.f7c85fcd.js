import{S as y,i as C,s as L,e as $,a as m,g as v,t as p,c as N,b as f,d as _,o as j,f as q,h as B,j as M,k as W,l as w,m as A,n as S,p as U}from"./index.58cdd8b7.js";import{A as z}from"./AdventureBanner.55464b8f.js";import{S as D}from"./Spinner.48a14162.js";function h(u,e,o){const t=u.slice();return t[2]=e[o],t}function E(u){let e,o,t,a,s=u[0],r=[];for(let n=0;n<s.length;n+=1)r[n]=b(h(u,s,n));const d=n=>p(r[n],1,1,()=>{r[n]=null});let l=null;return s.length||(l=k()),{c(){e=B("h2"),e.textContent="Which adventure would you like to go on?",o=M();for(let n=0;n<r.length;n+=1)r[n].c();t=$(),l&&l.c()},m(n,c){m(n,e,c),m(n,o,c);for(let i=0;i<r.length;i+=1)r[i].m(n,c);m(n,t,c),l&&l.m(n,c),a=!0},p(n,c){if(c&1){s=n[0];let i;for(i=0;i<s.length;i+=1){const g=h(n,s,i);r[i]?(r[i].p(g,c),f(r[i],1)):(r[i]=b(g),r[i].c(),f(r[i],1),r[i].m(t.parentNode,t))}for(v(),i=s.length;i<r.length;i+=1)d(i);N(),!s.length&&l?l.p(n,c):s.length?l&&(l.d(1),l=null):(l=k(),l.c(),l.m(t.parentNode,t))}},i(n){if(!a){for(let c=0;c<s.length;c+=1)f(r[c]);a=!0}},o(n){r=r.filter(Boolean);for(let c=0;c<r.length;c+=1)p(r[c]);a=!1},d(n){n&&_(e),n&&_(o),W(r,n),n&&_(t),l&&l.d(n)}}}function F(u){let e,o;return e=new D({}),{c(){w(e.$$.fragment)},m(t,a){A(e,t,a),o=!0},p:S,i(t){o||(f(e.$$.fragment,t),o=!0)},o(t){p(e.$$.fragment,t),o=!1},d(t){U(e,t)}}}function k(u){let e;return{c(){e=B("p"),e.textContent="No Adventures, sorry."},m(o,t){m(o,e,t)},p:S,d(o){o&&_(e)}}}function b(u){let e,o;return e=new z({props:{adventureName:u[2].name,backgroundUrl:u[2].promoBackground,logoUrl:u[2].promoLogo,price:u[2].price,code:"",status:""}}),{c(){w(e.$$.fragment)},m(t,a){A(e,t,a),o=!0},p(t,a){const s={};a&1&&(s.adventureName=t[2].name),a&1&&(s.backgroundUrl=t[2].promoBackground),a&1&&(s.logoUrl=t[2].promoLogo),a&1&&(s.price=t[2].price),e.$set(s)},i(t){o||(f(e.$$.fragment,t),o=!0)},o(t){p(e.$$.fragment,t),o=!1},d(t){U(e,t)}}}function G(u){let e,o,t,a;const s=[F,E],r=[];function d(l,n){return l[1]?0:1}return e=d(u),o=r[e]=s[e](u),{c(){o.c(),t=$()},m(l,n){r[e].m(l,n),m(l,t,n),a=!0},p(l,[n]){let c=e;e=d(l),e===c?r[e].p(l,n):(v(),p(r[c],1,1,()=>{r[c]=null}),N(),o=r[e],o?o.p(l,n):(o=r[e]=s[e](l),o.c()),f(o,1),o.m(t.parentNode,t))},i(l){a||(f(o),a=!0)},o(l){p(o),a=!1},d(l){r[e].d(l),l&&_(t)}}}function H(u,e,o){let t=[],a=!0;return j(async function(){let{data:s,error:r}=await q.from("adventures").select(`
                    id,name,promoBackground,promoLogo,price
                `);r||(o(1,a=!1),o(0,t=s))}),[t,a]}class O extends y{constructor(e){super(),C(this,e,H,G,L,{})}}export{O as default};
