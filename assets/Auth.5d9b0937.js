import{S as H,i as I,s as M,b as U,c as z,n as A,f as P,V as W,W as j,j as v,X as D,g as C,P as B,R as q,e as f,A as S,w as c,y as u,C as L,D as E,a as y,T as k,B as N,U as R}from"./index.fce4cb09.js";function V(n){let e,o,i,t,s,a;return{c(){e=f("p"),o=S("You're already logged in, "),i=f("a"),i.textContent="Logout",t=S("?"),c(i,"href","")},m(p,l){z(p,e,l),u(e,o),u(e,i),u(e,t),s||(a=L(i,"click",E(D)),s=!0)},p:A,d(p){p&&P(e),s=!1,a()}}}function X(n){let e,o,i,t,s,a,p,l,g,b,h,w,r,m,T;return{c(){e=f("form"),o=f("label"),o.textContent="Email:",i=y(),t=f("input"),s=y(),a=f("label"),a.textContent="Password:",p=y(),l=f("input"),g=y(),b=f("button"),h=S(n[4]),w=y(),r=f("section"),c(o,"for","email"),c(t,"id","email"),c(t,"type","email"),c(t,"name","email"),t.required=!0,c(a,"for","password"),c(l,"id","password"),c(l,"type","password"),c(l,"name","password"),l.required=!0,c(b,"type","submit"),b.disabled=n[6],c(e,"class","basic")},m(d,_){z(d,e,_),u(e,o),u(e,i),u(e,t),k(t,n[1]),u(e,s),u(e,a),u(e,p),u(e,l),k(l,n[2]),u(e,g),u(e,b),u(b,h),u(e,w),u(e,r),r.innerHTML=n[3],m||(T=[L(t,"input",n[8]),L(l,"input",n[9]),L(e,"submit",E(n[0]))],m=!0)},p(d,_){_&2&&t.value!==d[1]&&k(t,d[1]),_&4&&l.value!==d[2]&&k(l,d[2]),_&16&&N(h,d[4]),_&8&&(r.innerHTML=d[3])},d(d){d&&P(e),m=!1,R(T)}}}function Y(n){let e;function o(s,a){var p;return(p=s[5])!=null&&p.user?V:X}let i=o(n),t=i(n);return{c(){t.c(),e=U()},m(s,a){t.m(s,a),z(s,e,a)},p(s,[a]){i===(i=o(s))&&t?t.p(s,a):(t.d(1),t=i(s),t&&(t.c(),t.m(e.parentNode,e)))},i:A,o:A,d(s){t.d(s),s&&P(e)}}}function F(n,e,o){let i;W(n,j,r=>o(5,i=r));let{type:t="login"}=e,s,a,p,l,g;const b=async()=>{let r,m;switch(t){case"signup":({error:m}=await C.auth.signUp({email:s,password:a})),r="An email has been sent to you for verification!";break;case"login":({error:m}=await C.auth.signInWithPassword({email:s,password:a})),r="Login success, redirecting.",await B("/");break}m?q.add({title:"Error",description:m.message,duration:1e4,type:"error"}):q.add({title:"Success",description:r,duration:1e4,type:"success"})};switch(t){case"signup":v.set("Puzzad: Signup"),l="Already have an account? <a href='#/Login'>Login!</a>",g="Sign up";break;case"login":v.set("Puzzad: Login"),l="Don't have an account? <a href='#/signup'>Sign up!</a>",g="Sign In";break;case"logout":v.set("Puzzad: Logout"),D()}function h(){s=this.value,o(1,s)}function w(){a=this.value,o(2,a)}return n.$$set=r=>{"type"in r&&o(7,t=r.type)},[b,s,a,l,g,i,p,t,h,w]}class J extends H{constructor(e){super(),I(this,e,F,Y,M,{type:7,authAction:0})}get authAction(){return this.$$.ctx[0]}}export{J as default};
